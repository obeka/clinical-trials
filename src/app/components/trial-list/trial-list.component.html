<div *ngIf="loading()">Loading trials...</div>
<div *ngIf="error()" class="error">{{ error() }}</div>
<div *ngIf="!loading() && trials().length === 0">No trials found.</div>

<button
  mat-raised-button
  color="accent"
  (click)="addToFavorites()"
  [disabled]="selected().size === 0"
  style="margin-bottom: 1rem"
>
  Add to Favorites
</button>

<p style="margin: 1rem 0; font-weight: bold">
  ‚è≥ Next update in: {{ countdown() }}s
</p>

<app-trial-card 
  *ngFor="let trial of trials()" 
  [trial]="trial"
  [isSelected]="selected().has(trial.protocolSection?.identificationModule?.nctId || '')"
  (selectionChange)="toggleSelection($event)"
></app-trial-card>
